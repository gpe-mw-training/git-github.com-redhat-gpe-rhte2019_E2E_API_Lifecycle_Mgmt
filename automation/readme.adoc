. Via the oc utility, ensure you are authenticated into a remote OCP environment as a cluster admin

. Execute this ansible:
+
-----
$ ansible-playbook -i localhost, -c local e2e_api_mgmt.yml
-----


== Jenkins

-----
$ oc new-project openbanking-cicd 

$ oc new-app jenkins-persistent \
   -p ENABLE_OAUTH=true \
   -p MEMORY_LIMIT=4Gi \
   -p VOLUME_CAPACITY=8Gi \
   -p DISABLE_ADMINISTRATIVE_MONITORS=true \
   -n openbanking-cicd

$ oc set resources dc jenkins --limits=cpu=1 --requests=cpu=100m
-----

== 3scale API Manager

. Named tenants:

.. dev
+
----
orgName=openbanking-dev
ocpAdminId=user1
tenantAdminId=api01
CREATE_GWS_WITH_EACH_TENANT=true
gw_project_name=$orgName-gw
----

.. prod
+
-----
orgName=openbanking-prod
ocpAdminId=user1
tenantAdminId=api01
CREATE_GWS_WITH_EACH_TENANT=true
gw_project_name=$orgName-gw
-----

== 3scale toolbox tests

-----

$ 3scale remote add openbanking-dev https://4507a1aa1a16b5f7544661bbde4aaa9dcf6a08d6ed00b575afc374154cc84d1a@openbanking-dev-admin.apps-0bf1.generic.opentlc.com
$ 3scale application-plan list -k openbanking-dev api

-----
